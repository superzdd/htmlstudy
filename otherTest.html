<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>
	</body>
	<script type="text/javascript">
		// 校验箱号
		function checkBoxNo(no) {
			console.debug('正在验证箱号:' + no);
			
			// 先用正则校验
			var regx=/^\d{2}(0[1-9]{1}|1[0-2]{1})(0[1-9]{1}|[1-2][0-9]{1}|3[0-1]{1})\d{4}$/g;
			var rs = regx.exec(no);
			
			if(rs == null){
				alert('箱号验证失败，请重新输入');
				return false;
			}
			
			var year = '' + 20 + no.substring(0, 2);
			var month = no.substring(2, 4)
			var day = no.substring(4, 6);
			var checkDate = new Date(year + "-" + month + "-" + day);
			if (checkDate.getFullYear() == year && (checkDate.getMonth() + 1) == month && (checkDate.getDate() == day)) {
				alert(1);
			} else {
				alert(0);
			}
		}
		checkBoxNo("1602220001");
		checkBoxNo("16022200011");
		checkBoxNo("201602220001");
		checkBoxNo("x602220001");
		checkBoxNo("1602300001");
		checkBoxNo("1612300001");
		checkBoxNo("1601300001");
	</script>

</html>